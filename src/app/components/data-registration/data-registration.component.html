<div class="container">
    <mat-card>
        <mat-card-header>
            <mat-card-title>Registro de Datos de Boda</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <mat-tab-group>

                <!-- Tab Familias -->
                <mat-tab label="1. Familias">
                    <div class="tab-content">
                        <h3>Registrar Familia</h3>
                        <form [formGroup]="familyForm" (ngSubmit)="onSubmitFamily()">
                            <mat-form-field appearance="fill" class="full-width">
                                <mat-label>Nombre de la Familia</mat-label>
                                <input matInput formControlName="familyName" placeholder="Ej. Familia García">
                            </mat-form-field>

                            <mat-form-field appearance="fill" class="full-width">
                                <mat-label>Cantidad de Invitados</mat-label>
                                <input matInput type="number" formControlName="invitedCount">
                            </mat-form-field>

                            <mat-form-field appearance="fill" class="full-width">
                                <mat-label>Notas</mat-label>
                                <textarea matInput formControlName="notes"></textarea>
                            </mat-form-field>

                            <button mat-raised-button color="primary" type="submit" [disabled]="familyForm.invalid">
                                Guardar Familia
                            </button>
                        </form>
                    </div>
                </mat-tab>

                <!-- Tab Invitados -->
                <mat-tab label="2. Invitados">
                    <div class="tab-content">
                        <h3>Registrar Invitado</h3>
                        <form [formGroup]="guestForm" (ngSubmit)="onSubmitGuest()">
                            <mat-form-field appearance="fill" class="full-width">
                                <mat-label>Seleccionar Familia</mat-label>
                                <mat-select formControlName="familyId">
                                    <mat-option *ngFor="let family of families$ | async" [value]="family.id">
                                        {{ family.familyName }}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>

                            <mat-form-field appearance="fill" class="full-width">
                                <mat-label>Nombre Completo</mat-label>
                                <input matInput formControlName="name" placeholder="Ej. Juan Pérez">
                            </mat-form-field>

                            <mat-form-field appearance="fill" class="full-width">
                                <mat-label>Teléfono (Opcional)</mat-label>
                                <input matInput formControlName="phone">
                            </mat-form-field>

                            <mat-form-field appearance="fill" class="full-width">
                                <mat-label>Email (Opcional)</mat-label>
                                <input matInput formControlName="email">
                            </mat-form-field>

                            <button mat-raised-button color="primary" type="submit" [disabled]="guestForm.invalid">
                                Guardar Invitado
                            </button>
                        </form>
                    </div>
                </mat-tab>



            </mat-tab-group>
        </mat-card-content>
    </mat-card>
</div>